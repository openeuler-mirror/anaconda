From 1c7eed3607410d62324e368cc4fe9fb3f541cc48 Mon Sep 17 00:00:00 2001
From: eaglegai <eaglegai@163.com>
Date: Thu, 13 Jan 2022 18:49:29 +0800
Subject: [PATCH] remove flatpack support

---
 pyanaconda/anaconda.py | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

diff --git a/pyanaconda/anaconda.py b/pyanaconda/anaconda.py
index 8c54011..c1108f2 100644
--- a/pyanaconda/anaconda.py
+++ b/pyanaconda/anaconda.py
@@ -28,7 +28,6 @@ from pyanaconda.core.constants import DisplayModes
 from pyanaconda.core import constants
 from pyanaconda.core.startup.dbus_launcher import AnacondaDBusLauncher
 from pyanaconda.payload.source import SourceFactory, PayloadSourceTypeUnrecognized
-from pyanaconda.payload.flatpak import FlatpakPayload

 from pyanaconda.anaconda_loggers import get_stdout_logger
 stdoutLog = get_stdout_logger()
@@ -79,12 +78,8 @@ class Anaconda(object):
         # class.  If it doesn't give us one, fall back to the default.
         if not self._payload:
             if self.ksdata.ostreesetup.seen:
-                if FlatpakPayload.is_available():
-                    from pyanaconda.payload.rpmostreepayload import RPMOSTreePayloadWithFlatpaks
-                    klass = RPMOSTreePayloadWithFlatpaks
-                else:
-                    from pyanaconda.payload.rpmostreepayload import RPMOSTreePayload
-                    klass = RPMOSTreePayload
+                from pyanaconda.payload.rpmostreepayload import RPMOSTreePayload
+                klass = RPMOSTreePayload
             elif self.opts.liveinst:
                 from pyanaconda.payload.live import LiveOSPayload
                 klass = LiveOSPayload
--
2.30.0
