From 6920ff7aa9c0215a032e00a5406b943737903c72 Mon Sep 17 00:00:00 2001
From: t_feng <fengtao40@huawei.com>
Date: Wed, 1 Jul 2020 18:08:35 +0800
Subject: [PATCH] disable ssh login checkbox

---
 pyanaconda/ui/gui/spokes/root_password.py | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/pyanaconda/ui/gui/spokes/root_password.py b/pyanaconda/ui/gui/spokes/root_password.py
index 313ba0f..2af9111 100644
--- a/pyanaconda/ui/gui/spokes/root_password.py
+++ b/pyanaconda/ui/gui/spokes/root_password.py
@@ -72,6 +72,8 @@ class PasswordSpoke(FirstbootSpokeMixIn, NormalSpoke, GUISpokeInputCheckHandler)
         self._password_label = self.builder.get_object("password_label")
         self._lock = self.builder.get_object("lock")
         self._root_password_ssh_login_override = self.builder.get_object("root_password_ssh_login_override")
+        self._root_password_ssh_login_override.set_visible(False)
+        self._root_password_ssh_login_override.set_no_show_all(True)
 
         # Install the password checks:
         # - Has a password been specified?
@@ -147,9 +149,9 @@ class PasswordSpoke(FirstbootSpokeMixIn, NormalSpoke, GUISpokeInputCheckHandler)
         #   we use the _refresh_running atribute to differentiate
         #   it from "real" clicks
         self._lock.set_active(self._users_module.IsRootAccountLocked)
-        self._root_password_ssh_login_override.set_active(
-            self._users_module.RootPasswordSSHLoginAllowed
-        )
+        self._root_password_ssh_login_override.set_visible(False)
+        self._root_password_ssh_login_override.set_no_show_all(True)
+
         if not self._lock.get_active():
             # rerun checks so that we have a correct status message, if any
             self.checker.run_checks()
-- 
2.23.0

